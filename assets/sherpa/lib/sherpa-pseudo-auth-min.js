Sherpa.ready("sherpaUtils",function(){Sherpa.subscribe("authenticate",function(c){if(c==true){viewModel.isAuthenticated=ko.observable(true);Sherpa.store("authenticated",true);$("html").addClass("authenticated");$("html").removeClass("not-authenticated")}else{viewModel.isAuthenticated=ko.observable(false);Sherpa.store("authenticated",false);$("html").removeClass("authenticated");$("html").addClass("not-authenticated")}});var b=Sherpa.urlQuery();var a=Sherpa.store("authenticated");if(b.authenticated=="false"){Sherpa.publish("authenticate",false)}else{if(b.authenticated=="true"||a==true){Sherpa.publish("authenticate",true)}else{Sherpa.publish("authenticate",false)}}});